$DEFINE PAGE main
$INCLUDE header.html
<main>
    <div>
        <table>
            <thead>
                <tr>
                    <th>{{ _.tableName }}</th>
                    <th @click="flipAll">{{ _.tableLast }}</th>
                    <th @click="flipAll">{{ _.tableNext }}</th>
                </tr>
            </thead>
            <tbody>
                <!--
                    Icons from Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com
                    License - https://fontawesome.com/license (Commercial License)
                    Copyright 2022 Fonticons, Inc.
                -->
                <tr v-if="!mirrors.length">
                    <td>{{ _.tableLoading }}</td>
                </tr>
                <tr v-for="mirror in mirrors" :class="[mirror.status]">
                    <td>
                        $VAR <a :href="'$BASE/'+mirror.name+'/'">{{ mirror.name }}</a>
                        <span v-if="badges[mirror.name]" :title="_.iconBadge">
                            <svg xmlns="http://www.w3.org/2000/svg" class="badge" viewBox="0 0 384 512">
                                <path d="M288 358.3c13.98-8.088 17.53-30.04 28.88-41.39c11.35-11.35 33.3-14.88 41.39-28.87c7.98-13.79 .1658-34.54 4.373-50.29C366.7 222.5 383.1 208.5 383.1 192c0-16.5-17.27-30.52-21.34-45.73c-4.207-15.75 3.612-36.5-4.365-50.29c-8.086-13.98-30.03-17.52-41.38-28.87c-11.35-11.35-14.89-33.3-28.87-41.39c-13.79-7.979-34.54-.1637-50.29-4.375C222.5 17.27 208.5 0 192 0C175.5 0 161.5 17.27 146.3 21.34C130.5 25.54 109.8 17.73 95.98 25.7C82 33.79 78.46 55.74 67.11 67.08C55.77 78.43 33.81 81.97 25.72 95.95C17.74 109.7 25.56 130.5 21.35 146.2C17.27 161.5 .0008 175.5 .0008 192c0 16.5 17.27 30.52 21.34 45.73c4.207 15.75-3.615 36.5 4.361 50.29C33.8 302 55.74 305.5 67.08 316.9c11.35 11.35 14.89 33.3 28.88 41.4c13.79 7.979 34.53 .1582 50.28 4.369C161.5 366.7 175.5 384 192 384c16.5 0 30.52-17.27 45.74-21.34C253.5 358.5 274.2 366.3 288 358.3zM112 192c0-44.27 35.81-80 80-80s80 35.73 80 80c0 44.17-35.81 80-80 80S112 236.2 112 192zM1.719 433.2c-3.25 8.188-1.781 17.48 3.875 24.25c5.656 6.75 14.53 9.898 23.12 8.148l45.19-9.035l21.43 42.27C99.46 507 107.6 512 116.7 512c.3438 0 .6641-.0117 1.008-.0273c9.5-.375 17.65-6.082 21.24-14.88l33.58-82.08c-53.71-4.639-102-28.12-138.2-63.95L1.719 433.2zM349.6 351.1c-36.15 35.83-84.45 59.31-138.2 63.95l33.58 82.08c3.594 8.797 11.74 14.5 21.24 14.88C266.6 511.1 266.1 512 267.3 512c9.094 0 17.23-4.973 21.35-13.14l21.43-42.28l45.19 9.035c8.594 1.75 17.47-1.398 23.12-8.148c5.656-6.766 7.125-16.06 3.875-24.25L349.6 351.1z" />
                            </svg>
                        </span>
                        $VAR <a v-if="docs[mirror.name]" :title="_.iconHelp" :href="'$BASE/docs/#'+mirror.name">
                            <svg title="" xmlns="http://www.w3.org/2000/svg" class="help" viewBox="0 0 512 512">
                                <path d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 400c-18 0-32-14-32-32s13.1-32 32-32c17.1 0 32 14 32 32S273.1 400 256 400zM325.1 258L280 286V288c0 13-11 24-24 24S232 301 232 288V272c0-8 4-16 12-21l57-34C308 213 312 206 312 198C312 186 301.1 176 289.1 176h-51.1C225.1 176 216 186 216 198c0 13-11 24-24 24s-24-11-24-24C168 159 199 128 237.1 128h51.1C329 128 360 159 360 198C360 222 347 245 325.1 258z" />
                            </svg>
                        </a>
                    </td>
                    <td>
                        <span @click="relOrAbs[mirror.name]^=1" :title="(relOrAbs[mirror.name]?relTime:absTime)(mirror.last_update_ts)">
                            {{ (relOrAbs[mirror.name]?absTime:relTime)(mirror.last_update_ts) }}
                        </span>
                        <span v-if="mirror.status=='failed'" :title="_.iconFailed">
                            <svg xmlns="http://www.w3.org/2000/svg" class="failed" viewBox="0 0 512 512">
                                <path d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM232 152C232 138.8 242.8 128 256 128s24 10.75 24 24v128c0 13.25-10.75 24-24 24S232 293.3 232 280V152zM256 400c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 385.9 273.4 400 256 400z" />
                            </svg>
                        </span>
                        <span v-if="mirror.status=='unknown'" :title="_.iconUnknown">
                            <svg xmlns="http://www.w3.org/2000/svg" class="unknown" viewBox="0 0 512 512">
                                <path d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM232 152C232 138.8 242.8 128 256 128s24 10.75 24 24v128c0 13.25-10.75 24-24 24S232 293.3 232 280V152zM256 400c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 385.9 273.4 400 256 400z" />
                            </svg>
                        </span>
                    </td>
                    <td>
                        <span v-if="mirror.status!='syncing'" @click="relOrAbs[mirror.name]^=1" :title="(relOrAbs[mirror.name]?relTime:absTime)(mirror.next_schedule_ts)">
                            {{ (relOrAbs[mirror.name]?absTime:relTime)(mirror.next_schedule_ts) }}
                        </span>
                        <span v-if="mirror.status=='syncing'" :title="_.iconSyncing">
                            <svg xmlns="http://www.w3.org/2000/svg" class="syncing" viewBox="0 0 512 512">
                                <path d="M464 16c-17.67 0-32 14.31-32 32v74.09C392.1 66.52 327.4 32 256 32C161.5 32 78.59 92.34 49.58 182.2c-5.438 16.81 3.797 34.88 20.61 40.28c16.89 5.5 34.88-3.812 40.3-20.59C130.9 138.5 189.4 96 256 96c50.5 0 96.26 24.55 124.4 64H336c-17.67 0-32 14.31-32 32s14.33 32 32 32h128c17.67 0 32-14.31 32-32V48C496 30.31 481.7 16 464 16zM441.8 289.6c-16.92-5.438-34.88 3.812-40.3 20.59C381.1 373.5 322.6 416 256 416c-50.5 0-96.25-24.55-124.4-64H176c17.67 0 32-14.31 32-32s-14.33-32-32-32h-128c-17.67 0-32 14.31-32 32v144c0 17.69 14.33 32 32 32s32-14.31 32-32v-74.09C119.9 445.5 184.6 480 255.1 480c94.45 0 177.4-60.34 206.4-150.2C467.9 313 458.6 294.1 441.8 289.6z" />
                            </svg>
                        </span>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <aside>
        <div v-if="news.length">
            <h3>{{ _.news }}</h3>
            <p v-for="post in news.slice(0,3)">
                $VAR <a :href="'$BASE/news/#'+post.name">{{ post.text }} ({{ post.date }})</a>
            </p>
            $VAR <p v-if="news.length>3"><a href="$BASE/news/">{{ _.newsMore}}</a></p>
        </div>
        <div v-if="distros.length">
            <h3>{{ _.distros }}</h3>
            <p>{{ _.distroDesc }}</p>
            <button @click="modal=true">{{ _.distroButton }}</button>
        </div>
        <h3>{{ _.routes }}</h3>
        <table>
            <tr>
                <td><a href="https://mirrors.jlu.edu.cn">mirrors.jlu.edu.cn</a></td>
                <td>{{ _.routeAuto }}</td>
            </tr>
            <tr>
                <td><a href="https://mirrors4.jlu.edu.cn">mirrors4.jlu.edu.cn</a></td>
                <td>{{ _.route4 }}</td>
            </tr>
            <tr>
                <td><a href="https://mirrors6.jlu.edu.cn">mirrors6.jlu.edu.cn</a></td>
                <td>{{ _.route6 }}</td>
            </tr>
        </table>
        <h3>{{ _.links }}</h3>
        $VAR <p><a href="$BASE/docs/" target="_blank">{{ _.linkDocs }}</a></p>
        <p><a href="https://github.com/jlulug/issues/issues/new/choose" target="_blank">{{ _.linkRequest }}</a></p>
        <p><a href="https://github.com/jlulug/issues/issues/new/choose" target="_blank">{{ _.linkReport }}</a></p>
        <p><a href="https://jlulug.org" target="_blank">{{ _.linkLUG }}</a></p>
        <p><a href="https://nic.jlu.edu.cn" target="_blank">{{ _.linkNIC }}</a></p>
        <p>
            <a href target="_blank" onclick="this.href=atob('==gbj5SdkVmL1xmaANncvJncp1mOvRHbpFWb'.split('').reverse().join(''))">
                {{ _.linkContact }}
            </a>
        </p>
    </aside>
</main>
<div v-if="modal" @click.self="modal=false" id="modal">
    <div>
        <ul>
            <li v-for="distro in distros" :class="{ active: distro==current }">
                <a @click="current=distro">{{ distro.distro }}</a>
            </li>
        </ul>
        <div>
            <span @click="modal=false" id="modalClose">&times;</span>
            <h3>{{ current.distro }}</h3>
            <p v-for="item in current.urls">
                $VAR <a :href="'$BASE'+item.url">{{ item.name }}</a>
            </p>
        </div>
    </div>
</div>
$VAR <script src="$BASE/distros.js"></script>
$INCLUDE footer.html
